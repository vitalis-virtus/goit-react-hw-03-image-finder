{"version":3,"sources":["App.module.css","Component/ImageGalleryItem/ImageGalleryItem.module.css","Component/Modal/Modal.module.css","Component/ImageGallery/ImageGalleryItem.module.css","Component/Button/Button.module.css","serices/imageFinder-api.js","Component/ImageGalleryItem/ImageGalleryItem.js","Component/ImageGallery/ImageGallery.js","Component/Searchbar/SearchBar.js","Component/Button/Button.js","Component/Modal/Modal.js","App.js","index.js","Component/Searchbar/SearchBar.module.css"],"names":["module","exports","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","ImageGalleryItem","id","webformatURL","description","itemClicked","className","styles","onClick","src","alt","ImageGalleryItemImage","ImageGallery","array","clickFunc","map","image","tags","SearchBar","state","querry","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","Searchbar","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autocomplete","autofocus","placeholder","Component","Button","onClickFunc","modalRoot","document","querySelector","Modal","handleKeydown","event","code","onClose","handleBackDropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","images","isLoading","error","showModal","modalImageURL","onChangeQuery","query","toggleModal","url","fetchImages","imageFinderApi","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","shouldRenderLoadMoreButton","length","color","height","width","timeout","Spinner","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.aaf7a7a9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3E7Wl\",\"Spinner\":\"App_Spinner__3JeF6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__YFycH\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__7Yq5_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal__backdrop\":\"Modal_Modal__backdrop__3UUfP\",\"Modal__content\":\"Modal_Modal__content__2zy-o\",\"Overlay\":\"Modal_Overlay__zAMIO\",\"Modal\":\"Modal_Modal__1_Sbu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGalleryItem_ImageGallery__bKldy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__12Vq1\"};","/* eslint-disable import/no-anonymous-default-export */\r\nimport axios from \"axios\";\r\n\r\nconst key = \"20359077-3bc8ecc9aab86af1558f74303\";\r\n\r\nconst fetchImages = ({ searchQuery = \"\", currentPage = 1, pageSize = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${key}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default { fetchImages };\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ id, webformatURL, description, itemClicked }) => {\r\n  const clickFunc = () => {\r\n    itemClicked(webformatURL);\r\n  };\r\n  return (\r\n    <li className={styles.ImageGalleryItem} onClick={clickFunc}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={description}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  description: PropTypes.string.isRequired,\r\n  itemClicked: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\n// const ImageGallery = ({ children }) => {\r\n//   return <ul className=\"ImageGallery\">{children}</ul>;\r\n// };\r\n\r\nconst ImageGallery = ({ array, clickFunc }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {array.map((image) => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          id={image.id}\r\n          webformatURL={image.webformatURL}\r\n          // largeImageURL={image.largeImageURL}\r\n          description={image.tags}\r\n          itemClicked={clickFunc}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  array: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  clickFunc: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./SearchBar.module.css\";\r\n\r\nclass SearchBar extends Component {\r\n  state = { querry: \"\" };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ querry: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.querry);\r\n    this.setState({ querry: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            value={this.state.querry}\r\n            onChange={this.handleChange}\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClickFunc }) => {\r\n  return (\r\n    <button type=\"button\" onClick={onClickFunc} className={styles.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClickFunc: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { createPortal } from \"react-dom\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = (event) => {\r\n    if (event.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackDropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackDropClick}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"./stylesBase.css\";\nimport styles from \"./App.module.css\";\n\nimport imageFinderApi from \"./serices/imageFinder-api\";\n\nimport ImageGallery from \"./Component/ImageGallery\";\nimport SearchBar from \"./Component/Searchbar\";\nimport Button from \"./Component/Button\";\nimport Modal from \"./Component/Modal\";\n// import ImageGalleryItem from \"./Component/ImageGalleryItem\";\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    error: null,\n    showModal: false,\n    modalImageURL: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      images: [],\n      currentPage: 1,\n      searchQuery: query,\n      isLoading: false,\n      error: null,\n    });\n  };\n\n  toggleModal = (url) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalImageURL: url,\n    }));\n  };\n\n  fetchImages = () => {\n    this.setState({ isLoading: true });\n\n    const { searchQuery, currentPage } = this.state;\n    const fetchOptions = { searchQuery, currentPage };\n\n    imageFinderApi\n      .fetchImages(fetchOptions)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => {\n        if (this.state.currentPage > 2) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n        this.setState({ isLoading: false });\n      });\n  };\n\n  render() {\n    const { images, isLoading, modalImageURL, showModal, error } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n    return (\n      <div className={styles.App}>\n        {error && <h1>Не удалось загрузить картинки</h1>}\n        <SearchBar onSubmit={this.onChangeQuery} />\n        <ImageGallery array={images} clickFunc={this.toggleModal} />\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={modalImageURL} alt=\"\" />\n          </Modal>\n        )}\n        {shouldRenderLoadMoreButton && (\n          <Button onClickFunc={this.fetchImages} />\n        )}\n        {isLoading && (\n          <Loader\n            type=\"Oval\"\n            color=\"#4D4B4E\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n            className={styles.Spinner}\n          />\n        )}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__28GGh\",\"SearchForm\":\"SearchBar_SearchForm__3etYb\",\"SearchFormButton\":\"SearchBar_SearchFormButton__2shor\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__6w1Hw\",\"SearchFormInput\":\"SearchBar_SearchFormInput__3WCX9\"};"],"sourceRoot":""}